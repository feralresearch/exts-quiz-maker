{"version":3,"sources":["components/Collapsable/Collapsable.module.css","pages/Home/Home.module.css","components/DnD/Target.js","constants.js","pages/Home/quizDataHelper.js","utility.js","components/MDEditor.js","components/StatusToggle.js","pages/Home/Answer.js","components/Collapsable/index.js","pages/Home/Question.js","pages/Home/index.js","components/Navigation/index.js","App.js","index.js"],"names":["module","exports","DropTarget","props","accepts","drop","monitor","onDrop","connect","connectDropTarget","dropTarget","isOver","canDrop","children","style","targetStyle","active","opacity","inactive","isActive","QUESTIONTYPE","DRAGGABLE","LABEL","description_md","success_message_md","text_md","hint_md","type","MultipleChoiceQuizz","SingleChoiceQuizz","quizDataHelper","loadQuizDataFrom","file","cb","fileReader","FileReader","onload","e","contentAsString","target","result","replace","docWithoutJson","jsonBlocks","match","window","alert","doc","DOMParser","parseFromString","array","Array","from","getElementsByTagName","forEach","el","idx","cleanedBlock","replaceAll","push","dataset","permanentId","json","JSON","parse","onerror","console","error","readAsText","saveQuizDataTo","fileName","data","legacyFormat","outputAsString","jsonData","stringify","filename","Blob","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","saveFile","merge","update","newData","name","targetIndex","indexOf","find","item","id","value","parentId","parentIndex","answers_attributes","permanent_id","styles","container","display","flexDirection","marginBottom","label","fontSize","fontWeight","alignItems","color","border","width","minHeight","lineHeight","padding","background","inputFocused","MDEditor","onChange","useState","focus","setFocus","editorEl","useRef","displayEl","current","blur","content","ref","onClick","onBlur","data-permanent-id","data-parent-id","originalEvent","StatusToggle","options","Answer","moveAnswer","findAnswer","originalIndex","index","useDrag","collect","isDragging","drag","useDrop","accept","hover","draggedId","overIndex","node","backgroundColor","cursor","textAlign","correct","Collapsable","toggleState","setState","isOpen","state","titleClick","clickableTitle","this","className","title","marginRight","marginLeft","whiteSpace","uncollapsed","collapsed","Component","defaultProps","Question","memo","moveQuizItem","findQuizItem","onUpdateData","onChangeQuizType","requestToMakeSingle","numberOfTrueAnswers","filter","length","useCallback","answer","fromIndex","splice","contents","Object","keys","key","allowMultiple","questionBlock","answerBlock","FILE","NativeTypes","allowedTypes","Home","quizData","setQuizData","clearData","confirm","sessionStorage","removeItem","setData","setItem","setDataFromChild","question","useMemo","quizItem","useEffect","savedData","getItem","warn","files","includes","Fragment","navigation","flexGrow","button","innerContainer","questionList","map","margin","Navigation","infoBlock","fontFamily","textTransform","position","borderTop","borderBottom","infoLabel","infoRow","library","add","faPlusSquare","faPen","faTrash","faExclamationTriangle","faTimesCircle","faSave","App","HTML5toTouch","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f335ecaf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Collapsable_container__3yksG\",\"title\":\"Collapsable_title__3aKDL\",\"collapsed\":\"Collapsable_collapsed__2adVV\",\"uncollapsed\":\"Collapsable_uncollapsed__2ihT4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1s89M\",\"innerContainer\":\"Home_innerContainer__KPFe8\",\"questionList\":\"Home_questionList__3GBLv\",\"input\":\"Home_input__2oFaL\",\"navigation\":\"Home_navigation__1-Q99\",\"button\":\"Home_button__2fSRs\",\"title\":\"Home_title__1RtlI\",\"questionBlock\":\"Home_questionBlock__3BNZF\",\"answerBlock\":\"Home_answerBlock__2jUv7\"};","import { DropTarget } from \"react-dnd\";\nconst TargetBox = ({ children, style, canDrop, isOver, connectDropTarget }) => {\n  const targetStyle = { active: { opacity: 0.75 }, inactive: {}, ...style };\n  const isActive = canDrop && isOver;\n  return connectDropTarget(\n    <div style={isActive ? targetStyle.active : targetStyle.inactive}>\n      {children}\n    </div>\n  );\n};\nexport default DropTarget(\n  (props) => props.accepts,\n  {\n    drop(props, monitor) {\n      if (props.onDrop) {\n        props.onDrop(props, monitor);\n      }\n    },\n  },\n  (connect, monitor) => ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    canDrop: monitor.canDrop(),\n  })\n)(TargetBox);\n","export const QUESTIONTYPE = {\n  MULTIPLE: \"MultipleChoiceQuizz\",\n  SINGLE: \"SingleChoiceQuizz\",\n};\n\nexport const DRAGGABLE = {\n  CARD: \"CARD\",\n  QUESTION: \"QUESTION\",\n  ANSWER: \"ANSWER\",\n};\n\nexport const LABEL = {\n  description_md: \"Description\",\n  success_message_md: \"Success Message\",\n  text_md: \"Text\",\n  hint_md: \"Hint\",\n  type: \"Quiz Type\",\n  MultipleChoiceQuizz: \"Multiple Choice\",\n  SingleChoiceQuizz: \"Single Choice\",\n};\n","/*\n    Some of this is a bit ugly but is doing the following:\n\n    - We use regexp here because we assume the data is dirty \n    (isn't formatted correctly, includes quotes in quotes, extra linebreaks, etc)\n\n    - The JSON spec says we can't have single quotes internally, but the HTML spec\n    doesn't care, so this also takes any input and converts the output to use\n    single quotes for parameters and the requisite double internal to the JSON strings.\n    \n    - Apostrophes and single quotes are entity encoded.\n*/\nimport { QUESTIONTYPE } from \"constants.js\";\nimport { saveFile } from \"utility\";\nconst quizDataHelper = {\n  loadQuizDataFrom: (file, cb) => {\n    const fileReader = new FileReader();\n    fileReader.onload = (e) => {\n      // Strip linebreaks\n      let contentAsString = e.target.result.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n\n      // Remove json-data blocks\n      const docWithoutJson = contentAsString.replace(\n        /(data-json=['|\"]).*?}]}(['|\"])/gm,\n        \"\"\n      );\n\n      // But keep them...\n      const jsonBlocks = contentAsString.match(\n        /(?<=json=['|\"]).*?}]}(?=['|\"])/gm\n      );\n      if (!jsonBlocks) {\n        window.alert(\n          \"I don't know how to deal with this - is it valid quiz content?\"\n        );\n        return null;\n      }\n\n      // Rebuild as JSON\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(docWithoutJson, \"text/html\");\n\n      let array = [];\n      Array.from(doc.getElementsByTagName(\"div\")).forEach((el, idx) => {\n        const cleanedBlock = jsonBlocks[idx]\n          .replaceAll(\"&quot;\", '\"')\n          .replaceAll(\"'\", \"&apos;\");\n        array.push({\n          type: el.dataset.type,\n          permanentId: el.dataset.permanentId,\n          json: JSON.parse(cleanedBlock),\n        });\n      });\n      cb(array);\n    };\n    fileReader.onerror = (e) => {\n      console.error(e);\n    };\n    fileReader.readAsText(file, \"UTF-8\");\n  },\n\n  saveQuizDataTo: ({ fileName, data, legacyFormat = false }) => {\n    let outputAsString = \"\";\n    data.forEach((el) => {\n      const jsonData = JSON.stringify(el.json).replaceAll(\"'\", \"&apos;\");\n      outputAsString +=\n        `<div\\n data-type='${el.type}'\\n` +\n        `data-permanent-id='${el.permanentId}'\\n` +\n        `data-json='${jsonData}'>\\n` +\n        `</div>\\n`;\n    });\n\n    // EXTS format per @ben:\n    if (legacyFormat) {\n      //Strip all linefeeds\n      outputAsString = outputAsString.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n      //Convert single quotes to double\n      outputAsString = outputAsString.replaceAll(\"'\", '\"');\n    }\n\n    saveFile(fileName ? fileName : \"new_quiz.md\", outputAsString);\n  },\n\n  merge: (data, update) => {\n    const newData = { ...data };\n    if (update.name === \"allowMultiple\") {\n      // Switch quiz type\n      let targetIndex = data.data.indexOf(\n        data.data.find((item) => item.permanentId === update.id)\n      );\n      data.data[targetIndex].type = update.value\n        ? QUESTIONTYPE.MULTIPLE\n        : QUESTIONTYPE.SINGLE;\n\n      if (data.data[targetIndex].type === QUESTIONTYPE.MULTIPLE) {\n        data.data[targetIndex].permanentId = data.data[\n          targetIndex\n        ].permanentId.replace(\"single\", \"multiple\");\n      } else {\n        data.data[targetIndex].permanentId = data.data[\n          targetIndex\n        ].permanentId.replace(\"multiple\", \"single\");\n      }\n    } else if (!update.parentId) {\n      // Top level property\n      let targetIndex = data.data.indexOf(\n        data.data.find((item) => item.permanentId === update.id)\n      );\n      newData.data[targetIndex].json[update.name] = update.value;\n    } else {\n      // Answer property (inside Question)\n      let parentIndex = data.data.indexOf(\n        data.data.find((item) => item.permanentId === update.parentId)\n      );\n      let targetIndex = newData.data[\n        parentIndex\n      ].json.answers_attributes.indexOf(\n        newData.data[parentIndex].json.answers_attributes.find(\n          (item) => item.permanent_id === update.id\n        )\n      );\n      newData.data[parentIndex].json.answers_attributes[targetIndex][\n        update.name\n      ] = update.value;\n    }\n    return newData;\n  },\n};\nexport default quizDataHelper;\n","export const decodeToken = (token) => {\n  var base64Url = token.split(\".\")[1];\n  var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  return JSON.parse(window.atob(base64));\n};\n\n//https://stackoverflow.com/questions/13405129/javascript-create-and-save-file\nexport const saveFile = (filename, data, type) => {\n  var file = new Blob([data], { type: type });\n  if (window.navigator.msSaveOrOpenBlob)\n    // IE10+\n    window.navigator.msSaveOrOpenBlob(file, filename);\n  else {\n    // Others\n    var a = document.createElement(\"a\"),\n      url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n};\n","import React, { useState, useRef } from \"react\";\nimport { LABEL } from \"constants.js\";\nimport Markdown from \"react-universal-markdown/dom\";\n\nconst MDEditor = ({ id, name, value, onChange, parentId }) => {\n  const [focus, setFocus] = useState(false);\n  const editorEl = useRef(null);\n  const displayEl = useRef(null);\n\n  if (editorEl.current)\n    if (focus) {\n      editorEl.current.style.display = \"block\";\n      displayEl.current.style.display = \"none\";\n      editorEl.current.focus();\n    } else {\n      editorEl.current.style.display = \"none\";\n      displayEl.current.style.display = \"flex\";\n      editorEl.current.blur();\n    }\n\n  return (\n    <div style={styles.container} key={id}>\n      <div style={styles.label}>{LABEL[name] ? LABEL[name] : name}</div>\n      <div style={styles.content}>\n        <textarea\n          ref={editorEl}\n          onClick={() => setFocus(true)}\n          onBlur={() => setFocus(false)}\n          data-permanent-id={id}\n          data-parent-id={parentId}\n          onChange={(e) => {\n            onChange({\n              parentId,\n              id,\n              value: e.target.value,\n              name,\n              originalEvent: e,\n            });\n          }}\n          name={name}\n          value={value}\n          style={styles.inputFocused}\n        />\n        <div\n          ref={displayEl}\n          onClick={() => {\n            setFocus(true);\n          }}\n          style={styles.display}\n        >\n          <Markdown>{value}</Markdown>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginBottom: \"1rem\",\n  },\n  label: {\n    fontSize: \".8rem\",\n  },\n  display: {\n    fontWeight: 200,\n    display: \"flex\",\n    alignItems: \"center\",\n    color: \"grey\",\n    border: \"1px solid #eeeeee\",\n    fontSize: \"1rem\",\n    width: \"100%\",\n    minHeight: \"2rem\",\n    lineHeight: \"1rem\",\n    padding: \".2rem\",\n    background: \"white\",\n  },\n  inputFocused: {\n    display: \"none\",\n    fontSize: \"1rem\",\n    width: \"100%\",\n    minHeight: \"4rem\",\n    color: \"red\",\n  },\n};\n\nexport default MDEditor;\n","import React from \"react\";\n\nconst StatusToggle = ({\n  id,\n  parentId,\n  name,\n  onChange,\n  value,\n  options = [\"YES\", \"NO\"],\n}) => {\n  return (\n    <div\n      style={{ color: value ? options.color[0] : options.color[1] }}\n      onClick={(e) =>\n        onChange({ parentId, id, name, value: !value, originalEvent: e })\n      }\n    >\n      {value ? options.display[0] : options.display[1]}\n    </div>\n  );\n};\n\nexport default StatusToggle;\n","import React from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { DRAGGABLE } from \"constants.js\";\nimport MDEditor from \"components/MDEditor\";\nimport StatusToggle from \"components/StatusToggle\";\n\nconst Answer = ({ parentId, data, onChange, moveAnswer, findAnswer }) => {\n  const originalIndex = findAnswer(data.permanent_id).index;\n  const [{ isDragging }, drag] = useDrag(\n    () => ({\n      type: DRAGGABLE.ANSWER,\n      item: { permanent_id: data.permanent_id, originalIndex },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n    }),\n    [data, originalIndex, moveAnswer]\n  );\n  const [, drop] = useDrop(\n    () => ({\n      accept: DRAGGABLE.ANSWER,\n      hover({ permanent_id: draggedId }) {\n        if (draggedId !== data.permanent_id) {\n          const { index: overIndex } = findAnswer(data.permanent_id);\n          moveAnswer(draggedId, overIndex);\n        }\n      },\n    }),\n    [findAnswer, moveAnswer]\n  );\n  const opacity = isDragging ? 0.1 : 1;\n\n  return (\n    <div\n      ref={(node) => drag(drop(node))}\n      style={{\n        border: \"1px dashed lightgray\",\n        padding: \"0.5rem 1rem\",\n        marginBottom: \".5rem\",\n        backgroundColor: \"white\",\n        cursor: \"move\",\n        opacity,\n      }}\n    >\n      <div style={{ textAlign: \"right\" }}>\n        <StatusToggle\n          parentId={parentId}\n          id={data.permanent_id}\n          name={\"correct\"}\n          value={data.correct}\n          onChange={onChange}\n          options={{\n            display: [\"CORRECT\", \"INCORRECT\"],\n            color: [\"darkgreen\", \"red\"],\n          }}\n        />\n      </div>\n      <div>\n        <MDEditor\n          id={data.permanent_id}\n          parentId={parentId}\n          name={\"text_md\"}\n          value={data.text_md ? data.text_md : \"\"}\n          onChange={onChange}\n        />\n      </div>\n      <div>\n        <MDEditor\n          id={data.permanent_id}\n          parentId={parentId}\n          name={\"hint_md\"}\n          value={data.hint_md ? data.hint_md : \"\"}\n          onChange={onChange}\n        />\n      </div>\n    </div>\n  );\n};\nexport default Answer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Collapsable.module.css';\n\nclass Collapsable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: this.props.isOpen\n    };\n  }\n\n  toggleState = () => {\n    this.setState({ isOpen: !this.state.isOpen });\n  };\n\n  titleClick = () => {\n    if (this.props.clickableTitle) this.toggleState();\n  };\n\n  render() {\n    return (\n      <div style={{ ...this.props.style }} className={styles.container}>\n        <div onClick={this.titleClick} className={styles.title}>\n          <i\n            onClick={this.toggleState}\n            style={{\n              fontSize: '1rem',\n              marginRight: '0.5rem',\n              marginLeft: '0.5rem',\n              opacity: '0.5',\n              whiteSpace: 'nowrap'\n            }}\n            className={\n              this.state.isOpen\n                ? 'fas fa-chevron-circle-down'\n                : 'fas fa-chevron-circle-right'\n            }\n          />\n          {this.props.title}\n        </div>\n        <div\n          className={this.state.isOpen ? styles.uncollapsed : styles.collapsed}\n        >\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Collapsable;\n\nCollapsable.defaultProps = {\n  isOpen: false,\n  clickableTitle: true\n};\nCollapsable.propTypes = {\n  clickableTitle: PropTypes.bool,\n  style: PropTypes.object,\n  title: PropTypes.node.isRequired,\n  children: PropTypes.node.isRequired,\n  isOpen: PropTypes.bool\n};\n","import React, { useCallback } from \"react\";\nimport { memo } from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport styles from \"./Home.module.css\";\nimport Answer from \"./Answer.js\";\nimport MDEditor from \"components/MDEditor\";\nimport Collapsable from \"components/Collapsable\";\nimport { DRAGGABLE, QUESTIONTYPE } from \"constants.js\";\nimport Markdown from \"react-universal-markdown/dom\";\nimport StatusToggle from \"components/StatusToggle\";\n\nconst Question = memo(\n  ({ data, onChange, moveQuizItem, findQuizItem, onUpdateData }) => {\n    const originalIndex = findQuizItem(data.permanentId).index;\n\n    const onChangeQuizType = (e) => {\n      const requestToMakeSingle = !e.value;\n      const numberOfTrueAnswers = data.json[\"answers_attributes\"].filter(\n        (item) => item.correct\n      ).length;\n\n      if (requestToMakeSingle && numberOfTrueAnswers > 1) {\n        window.alert(\n          \"You have requested to convert from a multiple-select to a single-select question, but you have more than one answer marked 'correct'. Fix the answers first.\"\n        );\n      } else {\n        onChange(e);\n      }\n    };\n\n    const findAnswer = useCallback(\n      (permanent_id) => {\n        const answer = data.json.answers_attributes.find(\n          (item) => item.permanent_id === permanent_id\n        );\n        if (!answer) {\n          console.error(`findAnswer: Cannot find ${permanent_id}`);\n        } else {\n          return {\n            answer,\n            index: data.json.answers_attributes.indexOf(answer),\n          };\n        }\n      },\n      [data]\n    );\n\n    const moveAnswer = useCallback(\n      (permanent_id, fromIndex) => {\n        const { index } = findAnswer(permanent_id);\n        const newData = [...data.json.answers_attributes];\n        newData.splice(index, 0, newData.splice(fromIndex, 1)[0]);\n        onUpdateData({ parentId: data.permanentId, data: newData });\n      },\n      [findAnswer, onUpdateData, data]\n    );\n\n    const [{ isDragging }, drag] = useDrag(\n      () => ({\n        type: DRAGGABLE.QUESTION,\n        item: { permanentId: data.permanentId, originalIndex },\n        collect: (monitor) => ({\n          isDragging: monitor.isDragging(),\n        }),\n      }),\n      [data, originalIndex, moveQuizItem]\n    );\n\n    const [, drop] = useDrop(\n      () => ({\n        accept: DRAGGABLE.QUESTION,\n        hover({ permanentId: draggedId }) {\n          if (draggedId !== data.permanentId) {\n            const { index: overIndex } = findQuizItem(data.permanentId);\n            moveQuizItem(draggedId, overIndex);\n          }\n        },\n      }),\n      [findQuizItem, moveQuizItem]\n    );\n\n    let contents = [];\n    Object.keys(data.json).forEach((key) => {\n      if (key === \"answers_attributes\") {\n        const allowMultiple = data.type === QUESTIONTYPE.MULTIPLE;\n        contents.push(<div key={\"title\"}>Answers</div>);\n        contents.push(\n          <div key={`${data.permanentId}_type`}>\n            <StatusToggle\n              id={data.permanentId}\n              name={\"allowMultiple\"}\n              value={allowMultiple}\n              onChange={onChangeQuizType}\n              options={{\n                display: [\"ALLOW MULTIPLE: YES\", \"ALLOW MULTIPLE: NO\"],\n                color: [\"black\", \"black\"],\n              }}\n            />\n          </div>\n        );\n        data.json[\"answers_attributes\"].forEach((answer) => {\n          contents.push(\n            <Answer\n              key={answer.permanent_id}\n              moveAnswer={moveAnswer}\n              findAnswer={findAnswer}\n              parentId={data.permanentId}\n              data={answer}\n              onChange={onChange}\n              allowMultiple={allowMultiple}\n            />\n          );\n        });\n      } else {\n        contents.push(\n          <div key={`${key}_${data.permanentId}`}>\n            <MDEditor\n              id={data.permanentId}\n              name={key}\n              onChange={onChange}\n              value={data.json[key] ? data.json[key] : \"\"}\n            />\n          </div>\n        );\n      }\n    });\n\n    const opacity = isDragging ? 0.5 : 1;\n    return (\n      <div\n        ref={(node) => drag(drop(node))}\n        className={styles.questionBlock}\n        style={{\n          opacity,\n        }}\n      >\n        <Collapsable title={<Markdown>{data.json.description_md}</Markdown>}>\n          <div className={styles.answerBlock}>{contents}</div>\n        </Collapsable>\n      </div>\n    );\n  }\n);\n\nexport default Question;\n","import React, { memo, useCallback, useState, useMemo, useEffect } from \"react\";\nimport styles from \"./Home.module.css\";\nimport { NativeTypes } from \"react-dnd-html5-backend\";\nimport DnDTarget from \"components/DnD/Target\";\nimport quizDataHelper from \"./quizDataHelper.js\";\nimport Question from \"./Question.js\";\nimport { useDrop } from \"react-dnd\";\nimport { DRAGGABLE } from \"constants.js\";\nconst { FILE } = NativeTypes;\nconst allowMultiple = false;\nconst allowedTypes = [\"text/markdown\"];\n\nconst Home = memo(() => {\n  const [quizData, setQuizData] = useState();\n\n  const clearData = useCallback((data) => {\n    if (window.confirm(\"Clear current quiz? (you should save first)\")) {\n      setQuizData(null);\n      sessionStorage.removeItem(\"quizData\");\n    }\n  }, []);\n\n  const setData = useCallback((data) => {\n    setQuizData(data);\n    sessionStorage.setItem(\"quizData\", JSON.stringify(data));\n  }, []);\n\n  const onChange = useCallback(\n    (update) => {\n      setData(quizDataHelper.merge(quizData, update));\n    },\n    [quizData, setData]\n  );\n\n  const setDataFromChild = useCallback(\n    (data) => {\n      const newData = { ...quizData };\n      newData.data[\n        quizData.data.indexOf(\n          quizData.data.find(\n            (question) => question.permanentId === data.parentId\n          )\n        )\n      ].json.answers_attributes = data.data;\n      setData(newData);\n    },\n    [quizData, setData]\n  );\n\n  const accepts = useMemo(() => [FILE], []);\n\n  const handleFileDrop = (item, monitor) => {\n    const allow =\n      monitor && (!quizData || window.confirm(\"Replace current quiz?\"));\n    if (allow) {\n      if (!allowMultiple && monitor.getItem().files.length > 1)\n        console.warn(\"ALLOWMULTIPLE IS FALSE: Accepting only first file\");\n      const droppedFiles = allowMultiple\n        ? monitor.getItem().files\n        : [monitor.getItem().files[0]];\n\n      droppedFiles.forEach((file) => {\n        if (allowedTypes.includes(file.type)) {\n          quizDataHelper.loadQuizDataFrom(file, (data) => {\n            setData({ fileName: file.name, data });\n          });\n        } else {\n          console.warn(\n            `REJECT: ${file.type}. Allowed: ${JSON.stringify(allowedTypes)}`\n          );\n          return null;\n        }\n      });\n    }\n  };\n\n  const findQuizItem = useCallback(\n    (permanentId) => {\n      if (!permanentId) console.error(\"findQuizItem: Cannot find undefined\");\n      const quizItem = quizData.data.filter(\n        (data) => `${data.permanentId}` === permanentId\n      )[0];\n      return {\n        quizItem,\n        index: quizData.data.indexOf(quizItem),\n      };\n    },\n    [quizData]\n  );\n\n  const moveQuizItem = useCallback(\n    (permanentId, fromIndex) => {\n      const { index } = findQuizItem(permanentId);\n      const newData = [...quizData.data];\n      newData.splice(index, 0, newData.splice(fromIndex, 1)[0]);\n      setData({ fileName: quizData.fileName, data: newData });\n    },\n    [findQuizItem, quizData, setData]\n  );\n\n  const [, drop] = useDrop(() => ({ accept: DRAGGABLE.QUESTION }));\n\n  useEffect(() => {\n    try {\n      const savedData = JSON.parse(sessionStorage.getItem(\"quizData\"));\n      if (savedData) {\n        console.warn(\"Loading saved data\");\n        setData(savedData);\n      }\n    } catch (e) {}\n  }, [setData]);\n\n  return (\n    <DnDTarget accepts={accepts} onDrop={handleFileDrop}>\n      {(quizData && (\n        <React.Fragment>\n          <div className={styles.navigation}>\n            <div className={styles.title}>{quizData.fileName}</div>\n            <div style={{ flexGrow: 1 }} />\n            <div className={styles.button}>\n              <input\n                onClick={() =>\n                  quizDataHelper.saveQuizDataTo({\n                    fileName: quizData.fileName,\n                    data: quizData.data,\n                    legacyFormat: true,\n                  })\n                }\n                value=\"save: exts format\"\n                type=\"button\"\n              />\n            </div>\n            <div className={styles.button}>\n              <input\n                onClick={() =>\n                  quizDataHelper.saveQuizDataTo({\n                    fileName: quizData.fileName,\n                    data: quizData.data,\n                    legacyFormat: false,\n                  })\n                }\n                value=\"save\"\n                type=\"button\"\n              />\n            </div>\n            <div className={styles.button}>\n              <input onClick={() => clearData()} value=\"clear\" type=\"button\" />\n            </div>\n          </div>\n          <div className={styles.container}>\n            <div className={styles.innerContainer}>\n              <div\n                style={{\n                  marginBottom: \"2rem\",\n                  fontWeight: 900,\n                  fontSize: \"3rem\",\n                }}\n                key={quizData.fileName}\n              >\n                <div className={styles.questionList}>\n                  <div ref={drop} style={{ fontSize: \"1rem\" }}>\n                    {quizData.data.map((data, idx) => (\n                      <Question\n                        onUpdateData={setDataFromChild}\n                        key={data.permanentId\n                          .replace(\"single\", \"\")\n                          .replace(\"multiple\", \"\")}\n                        data={data}\n                        onChange={onChange}\n                        moveQuizItem={moveQuizItem}\n                        findQuizItem={findQuizItem}\n                      />\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      )) || (\n        <div className={styles.container}>\n          <div className={styles.innerContainer}>\n            <div\n              style={{\n                textAlign: \"center\",\n                fontSize: \"1rem\",\n                margin: \"auto\",\n                border: \"1px solid black\",\n                background: \"white\",\n                padding: \"4rem\",\n              }}\n            >\n              Drop a quiz .md file here to get started\n            </div>\n          </div>\n        </div>\n      )}\n    </DnDTarget>\n  );\n});\n\nexport default Home;\n","import React from \"react\";\n\nfunction Navigation() {\n  return (\n    <div style={styles.container}>\n      <div style={{ width: \"10rem\", flexGrow: \"1\" }}>Quiz Maker</div>\n      <div style={styles.infoBlock}></div>\n    </div>\n  );\n}\nexport default Navigation;\n\nconst styles = {\n  container: {\n    color: \"#d30a09\",\n    fontFamily: \"Mulish\",\n    textTransform: \"uppercase\",\n    backgroundColor: \"white\",\n    position: \"fixed\",\n    width: \"100%\",\n    textAlign: \"left\",\n    padding: \"1rem\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    fontSize: \"1.5rem\",\n    alignItems: \"center\",\n    borderTop: \".2rem solid #d30a09\",\n    borderBottom: \".01rem solid #dee2e6\",\n  },\n  infoLabel: { fontWeight: 200, marginRight: \".5rem\" },\n  infoBlock: {\n    textAlign: \"right\",\n    flexDirection: \"column\",\n    width: \"12rem\",\n    fontSize: \"0.5rem\",\n    fontWeight: 900,\n  },\n  infoRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginRight: \"2rem\",\n  },\n  error: {\n    color: \"orange\",\n    fontSize: \".9rem\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginRight: \"2rem\",\n  },\n};\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport Home from \"pages/Home\";\nimport { DndProvider } from \"react-dnd-multi-backend\";\nimport HTML5toTouch from \"react-dnd-multi-backend/dist/esm/HTML5toTouch\";\nimport Navigation from \"components/Navigation\";\n// import PrivateRoute from \"components/user/PrivateRoute\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faPen,\n  faPlusSquare,\n  faTrash,\n  faExclamationTriangle,\n  faTimesCircle,\n  faSave,\n} from \"@fortawesome/free-solid-svg-icons\";\nlibrary.add(\n  faPlusSquare,\n  faPen,\n  faTrash,\n  faExclamationTriangle,\n  faTimesCircle,\n  faSave\n);\n\nfunction App() {\n  return (\n    <Router>\n      <DndProvider options={HTML5toTouch}>\n        <div className=\"App\">\n          <Navigation></Navigation>\n          <Switch>\n            <Route path=\"/\" component={Home} />\n          </Switch>\n        </div>\n      </DndProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}