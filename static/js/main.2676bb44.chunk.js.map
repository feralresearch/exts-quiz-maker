{"version":3,"sources":["components/Collapsable/Collapsable.module.css","pages/Home/Home.module.css","components/DnD/Target.js","constants.js","pages/Home/quizDataHelper.js","utility.js","components/MDEditor.js","components/StatusToggle.js","pages/Home/Answer.js","components/Collapsable/index.js","pages/Home/Question.js","pages/Home/index.js","components/Navigation/index.js","App.js","index.js"],"names":["module","exports","DropTarget","props","accepts","drop","monitor","onDrop","connect","connectDropTarget","dropTarget","isOver","canDrop","children","style","targetStyle","active","opacity","inactive","isActive","QUESTIONTYPE","DRAGGABLE","LABEL","description_md","success_message_md","text_md","hint_md","type","MultipleChoiceQuizz","SingleChoiceQuizz","quizTemplate","require","quizDataHelper","loadQuizDataFrom","file","cb","fileReader","FileReader","onload","e","contentAsString","target","result","replace","docWithoutJson","jsonBlocks","match","window","alert","doc","DOMParser","parseFromString","array","Array","from","getElementsByTagName","forEach","el","idx","cleanedBlock","replaceAll","push","dataset","permanentId","json","JSON","parse","onerror","console","error","readAsText","saveQuizDataTo","fileName","data","legacyFormat","outputAsString","jsonData","stringify","filename","Blob","navigator","msSaveOrOpenBlob","a","document","createElement","url","URL","createObjectURL","href","download","body","appendChild","click","setTimeout","removeChild","revokeObjectURL","saveFile","_findAnswer","quizData","parentId","id","parentIndex","indexOf","find","item","targetIndex","answers_attributes","permanent_id","index","answer","_create","_fixIds","length","baseId","split","splice","join","question","aIdx","merge","update","newData","name","value","delete","foundAnswer","add","answerTemplate","unshift","questionTemplate","styles","container","display","flexDirection","marginBottom","label","fontSize","fontWeight","alignItems","color","border","width","minHeight","lineHeight","padding","background","inputFocused","MDEditor","onChange","useState","focus","setFocus","editorEl","useRef","displayEl","current","blur","content","ref","onClick","onBlur","data-permanent-id","data-parent-id","originalEvent","StatusToggle","options","Answer","onDelete","onAdd","moveAnswer","findAnswer","originalIndex","useDrag","collect","isDragging","drag","useDrop","accept","hover","draggedId","overIndex","node","backgroundColor","cursor","textAlign","flexGrow","marginRight","correct","action","Collapsable","toggleState","setState","isOpen","state","titleClick","clickableTitle","this","className","title","marginLeft","whiteSpace","uncollapsed","collapsed","Component","defaultProps","Question","memo","moveQuizItem","findQuizItem","onUpdateData","onChangeQuizType","requestToMakeSingle","numberOfTrueAnswers","filter","useCallback","fromIndex","contents","Object","keys","key","allowMultiple","questionBlock","stopPropagation","answerBlock","FILE","NativeTypes","allowedTypes","Home","setQuizData","clearData","confirm","sessionStorage","removeItem","setData","setItem","object","setDataFromChild","useMemo","quizItem","useEffect","savedData","getItem","warn","files","includes","Fragment","navigation","button","innerContainer","questionList","map","margin","textDecoration","Navigation","infoBlock","fontFamily","textTransform","position","borderTop","borderBottom","infoLabel","infoRow","library","faPlusSquare","faPen","faTrash","faExclamationTriangle","faTimesCircle","faSave","App","HTML5toTouch","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2676bb44.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Collapsable_container__3yksG\",\"title\":\"Collapsable_title__3aKDL\",\"collapsed\":\"Collapsable_collapsed__2adVV\",\"uncollapsed\":\"Collapsable_uncollapsed__2ihT4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1s89M\",\"innerContainer\":\"Home_innerContainer__KPFe8\",\"questionList\":\"Home_questionList__3GBLv\",\"input\":\"Home_input__2oFaL\",\"navigation\":\"Home_navigation__1-Q99\",\"button\":\"Home_button__2fSRs\",\"title\":\"Home_title__1RtlI\",\"questionBlock\":\"Home_questionBlock__3BNZF\",\"answerBlock\":\"Home_answerBlock__2jUv7\"};","import { DropTarget } from \"react-dnd\";\nconst TargetBox = ({ children, style, canDrop, isOver, connectDropTarget }) => {\n  const targetStyle = { active: { opacity: 0.75 }, inactive: {}, ...style };\n  const isActive = canDrop && isOver;\n  return connectDropTarget(\n    <div style={isActive ? targetStyle.active : targetStyle.inactive}>\n      {children}\n    </div>\n  );\n};\nexport default DropTarget(\n  (props) => props.accepts,\n  {\n    drop(props, monitor) {\n      if (props.onDrop) {\n        props.onDrop(props, monitor);\n      }\n    },\n  },\n  (connect, monitor) => ({\n    connectDropTarget: connect.dropTarget(),\n    isOver: monitor.isOver(),\n    canDrop: monitor.canDrop(),\n  })\n)(TargetBox);\n","export const QUESTIONTYPE = {\n  MULTIPLE: \"MultipleChoiceQuizz\",\n  SINGLE: \"SingleChoiceQuizz\",\n};\n\nexport const DRAGGABLE = {\n  CARD: \"CARD\",\n  QUESTION: \"QUESTION\",\n  ANSWER: \"ANSWER\",\n};\n\nexport const LABEL = {\n  description_md: \"Description\",\n  success_message_md: \"Success Message\",\n  text_md: \"Text\",\n  hint_md: \"Hint\",\n  type: \"Quiz Type\",\n  MultipleChoiceQuizz: \"Multiple Choice\",\n  SingleChoiceQuizz: \"Single Choice\",\n};\n","/*\n    Some of this is a bit ugly but is doing the following:\n\n    - We use regexp here because we assume the data is dirty \n    (isn't formatted correctly, includes quotes in quotes, extra linebreaks, etc)\n\n    - The JSON spec says we can't have single quotes internally, but the HTML spec\n    doesn't care, so this also takes any input and converts the output to use\n    single quotes for parameters and the requisite double internal to the JSON strings.\n    \n    - Apostrophes and single quotes are entity encoded.\n*/\nimport { QUESTIONTYPE } from \"constants.js\";\nimport { saveFile } from \"utility\";\nconst quizTemplate = require(\"quiz_template.json\");\n\nconst quizDataHelper = {\n  loadQuizDataFrom: (file, cb) => {\n    const fileReader = new FileReader();\n    fileReader.onload = (e) => {\n      // Strip linebreaks\n      let contentAsString = e.target.result.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n\n      // Remove json-data blocks\n      const docWithoutJson = contentAsString.replace(\n        /(data-json=['|\"]).*?}]}(['|\"])/gm,\n        \"\"\n      );\n\n      // But keep them...\n      const jsonBlocks = contentAsString.match(\n        /(?<=json=['|\"]).*?}]}(?=['|\"])/gm\n      );\n      if (!jsonBlocks) {\n        window.alert(\n          \"I don't know how to deal with this - is it valid quiz content?\"\n        );\n        return null;\n      }\n\n      // Rebuild as JSON\n      const parser = new DOMParser();\n      const doc = parser.parseFromString(docWithoutJson, \"text/html\");\n\n      let array = [];\n      Array.from(doc.getElementsByTagName(\"div\")).forEach((el, idx) => {\n        const cleanedBlock = jsonBlocks[idx]\n          .replaceAll(\"&quot;\", '\"')\n          .replaceAll(\"'\", \"&apos;\");\n        array.push({\n          type: el.dataset.type,\n          permanentId: el.dataset.permanentId,\n          json: JSON.parse(cleanedBlock),\n        });\n      });\n      cb(array);\n    };\n    fileReader.onerror = (e) => {\n      console.error(e);\n    };\n    fileReader.readAsText(file, \"UTF-8\");\n  },\n\n  saveQuizDataTo: ({ fileName, data, legacyFormat = false }) => {\n    let outputAsString = \"\";\n    data.forEach((el) => {\n      const jsonData = JSON.stringify(el.json).replaceAll(\"'\", \"&apos;\");\n      outputAsString +=\n        `<div\\n data-type='${el.type}'\\n` +\n        `data-permanent-id='${el.permanentId}'\\n` +\n        `data-json='${jsonData}'>\\n` +\n        `</div>\\n`;\n    });\n\n    // EXTS format per @ben:\n    if (legacyFormat) {\n      //Strip all linefeeds\n      outputAsString = outputAsString.replace(/(\\r\\n|\\n|\\r)/gm, \"\");\n      //Convert single quotes to double\n      outputAsString = outputAsString.replaceAll(\"'\", '\"');\n    }\n\n    saveFile(fileName ? fileName : \"new_quiz.md\", outputAsString);\n  },\n\n  _findAnswer: (quizData, parentId, id) => {\n    let parentIndex = quizData.data.indexOf(\n      quizData.data.find((item) => item.permanentId === parentId)\n    );\n    let targetIndex = quizData.data[\n      parentIndex\n    ].json.answers_attributes.indexOf(\n      quizData.data[parentIndex].json.answers_attributes.find(\n        (item) => item.permanent_id === id\n      )\n    );\n    return {\n      parentIndex,\n      index: targetIndex,\n      answer: quizData.data[parentIndex].json.answers_attributes[targetIndex],\n    };\n  },\n\n  _create: () => {\n    return JSON.parse(JSON.stringify(quizTemplate));\n  },\n\n  _fixIds: (data) => {\n    if (data.data.length === 0) return;\n\n    let baseId = data.data[0].permanentId.split(\"-\");\n    baseId.splice(-1, 1);\n    baseId = baseId.join(\"-\");\n    data.data.forEach((question, idx) => {\n      question.permanentId = `${baseId}-${idx}`;\n      question.json.answers_attributes.forEach((answer, aIdx) => {\n        answer.permanent_id = `answer-${aIdx}`;\n      });\n    });\n    return data;\n\n    /*\n    This block helps reuse the old IDs\n    (leaving it here in case we need to, for now I just override them with something sensible)\n\n    let smallestId = 0;\n    let largestId = 0;\n    let baseId = \"quiz\";\n    data.data.forEach((question) => {\n      baseId = question.permanentId.split(\"-\");\n      baseId.splice(-1, 1);\n      baseId = baseId.join(\"-\");\n      let thisId = parseFloat(\n        question.permanentId.split(\"-\")[\n          question.permanentId.split(\"-\").length - 1\n        ]\n      );\n      largestId = thisId > largestId ? thisId : largestId;\n      smallestId = thisId < smallestId ? thisId : smallestId;\n    });\n    console.log(`BaseId: ${baseId}`);\n    console.log(`Largest: ${largestId}`);    \n    */\n  },\n\n  merge: (data, update) => {\n    const newData = { ...data };\n    if (update.name === \"allowMultiple\") {\n      // Quiz type switch, also changes the IDs\n      let targetIndex = data.data.indexOf(\n        data.data.find((item) => item.permanentId === update.id)\n      );\n      data.data[targetIndex].type = update.value\n        ? QUESTIONTYPE.MULTIPLE\n        : QUESTIONTYPE.SINGLE;\n\n      if (data.data[targetIndex].type === QUESTIONTYPE.MULTIPLE) {\n        data.data[targetIndex].permanentId = data.data[\n          targetIndex\n        ].permanentId.replace(\"single\", \"multiple\");\n      } else {\n        data.data[targetIndex].permanentId = data.data[\n          targetIndex\n        ].permanentId.replace(\"multiple\", \"single\");\n      }\n    } else if (update.parentId) {\n      // Answer property\n      const foundAnswer = quizDataHelper._findAnswer(\n        newData,\n        update.parentId,\n        update.id\n      );\n      foundAnswer.answer[update.name] = update.value;\n    } else {\n      // Question property\n      let targetIndex = data.data.indexOf(\n        data.data.find((item) => item.permanentId === update.id)\n      );\n      newData.data[targetIndex].json[update.name] = update.value;\n    }\n    return newData;\n  },\n\n  delete: (data, update) => {\n    const newData = { ...data };\n    if (update.parentId) {\n      // Answer\n      const foundAnswer = quizDataHelper._findAnswer(\n        newData,\n        update.parentId,\n        update.id\n      );\n      newData.data[foundAnswer.parentIndex].json.answers_attributes.splice(\n        foundAnswer.index,\n        1\n      );\n    } else {\n      // Question\n      let targetIndex = data.data.indexOf(\n        data.data.find((item) => item.permanentId === update.id)\n      );\n      newData.data.splice(targetIndex, 1);\n    }\n    return quizDataHelper._fixIds(newData);\n  },\n\n  add: (data, update) => {\n    if (!data) return quizDataHelper._create();\n    const newData = { ...data };\n    if (update.parentId) {\n      // Answer\n\n      JSON.parse(JSON.stringify(quizTemplate));\n      let answerTemplate = JSON.parse(\n        JSON.stringify(quizTemplate.data[0].json.answers_attributes[0])\n      );\n      let targetIndex = data.data.indexOf(\n        data.data.find((item) => item.permanentId === update.parentId)\n      );\n      newData.data[targetIndex].json.answers_attributes.unshift(answerTemplate);\n    } else {\n      // Question\n      let questionTemplate = JSON.parse(JSON.stringify(quizTemplate.data[0]));\n      newData.data.unshift(questionTemplate);\n    }\n    return quizDataHelper._fixIds(newData);\n  },\n};\nexport default quizDataHelper;\n","export const decodeToken = (token) => {\n  var base64Url = token.split(\".\")[1];\n  var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  return JSON.parse(window.atob(base64));\n};\n\n//https://stackoverflow.com/questions/13405129/javascript-create-and-save-file\nexport const saveFile = (filename, data, type) => {\n  var file = new Blob([data], { type: type });\n  if (window.navigator.msSaveOrOpenBlob)\n    // IE10+\n    window.navigator.msSaveOrOpenBlob(file, filename);\n  else {\n    // Others\n    var a = document.createElement(\"a\"),\n      url = URL.createObjectURL(file);\n    a.href = url;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n    setTimeout(function () {\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    }, 0);\n  }\n};\n","import React, { useState, useRef } from \"react\";\nimport { LABEL } from \"constants.js\";\nimport Markdown from \"react-universal-markdown/dom\";\n\nconst MDEditor = ({ id, name, value, onChange, parentId }) => {\n  const [focus, setFocus] = useState(false);\n  const editorEl = useRef(null);\n  const displayEl = useRef(null);\n\n  if (editorEl.current)\n    if (focus) {\n      editorEl.current.style.display = \"block\";\n      displayEl.current.style.display = \"none\";\n      editorEl.current.focus();\n    } else {\n      editorEl.current.style.display = \"none\";\n      displayEl.current.style.display = \"flex\";\n      editorEl.current.blur();\n    }\n\n  return (\n    <div style={styles.container} key={id}>\n      <div style={styles.label}>{LABEL[name] ? LABEL[name] : name}</div>\n      <div style={styles.content}>\n        <textarea\n          ref={editorEl}\n          onClick={() => setFocus(true)}\n          onBlur={() => setFocus(false)}\n          data-permanent-id={id}\n          data-parent-id={parentId}\n          onChange={(e) => {\n            onChange({\n              parentId,\n              id,\n              value: e.target.value,\n              name,\n              originalEvent: e,\n            });\n          }}\n          name={name}\n          value={value}\n          style={styles.inputFocused}\n        />\n        <div\n          ref={displayEl}\n          onClick={() => {\n            setFocus(true);\n          }}\n          style={styles.display}\n        >\n          <Markdown>{value}</Markdown>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst styles = {\n  container: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    marginBottom: \"1rem\",\n  },\n  label: {\n    fontSize: \".8rem\",\n  },\n  display: {\n    fontWeight: 200,\n    display: \"flex\",\n    alignItems: \"center\",\n    color: \"grey\",\n    border: \"1px solid #eeeeee\",\n    fontSize: \"1rem\",\n    width: \"100%\",\n    minHeight: \"2rem\",\n    lineHeight: \"1rem\",\n    padding: \".2rem\",\n    background: \"white\",\n  },\n  inputFocused: {\n    display: \"none\",\n    fontSize: \"1rem\",\n    width: \"100%\",\n    minHeight: \"4rem\",\n    color: \"red\",\n  },\n};\n\nexport default MDEditor;\n","import React from \"react\";\n\nconst StatusToggle = ({\n  id,\n  parentId,\n  name,\n  onChange,\n  value,\n  options = [\"YES\", \"NO\"],\n}) => {\n  return (\n    <div\n      style={{ color: value ? options.color[0] : options.color[1] }}\n      onClick={(e) =>\n        onChange({ parentId, id, name, value: !value, originalEvent: e })\n      }\n    >\n      {value ? options.display[0] : options.display[1]}\n    </div>\n  );\n};\n\nexport default StatusToggle;\n","import React from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { DRAGGABLE } from \"constants.js\";\nimport MDEditor from \"components/MDEditor\";\nimport StatusToggle from \"components/StatusToggle\";\n\nconst Answer = ({\n  parentId,\n  data,\n  onAdd,\n  onDelete,\n  onChange,\n  moveAnswer,\n  findAnswer,\n}) => {\n  const originalIndex = findAnswer(data.permanent_id).index;\n  const [{ isDragging }, drag] = useDrag(\n    () => ({\n      type: DRAGGABLE.ANSWER,\n      item: { permanent_id: data.permanent_id, originalIndex },\n      collect: (monitor) => ({\n        isDragging: monitor.isDragging(),\n      }),\n    }),\n    [data, originalIndex, moveAnswer]\n  );\n  const [, drop] = useDrop(\n    () => ({\n      accept: DRAGGABLE.ANSWER,\n      hover({ permanent_id: draggedId }) {\n        if (draggedId !== data.permanent_id) {\n          const { index: overIndex } = findAnswer(data.permanent_id);\n          moveAnswer(draggedId, overIndex);\n        }\n      },\n    }),\n    [findAnswer, moveAnswer]\n  );\n  const opacity = isDragging ? 0.1 : 1;\n\n  return (\n    <div\n      ref={(node) => drag(drop(node))}\n      style={{\n        border: \"1px dashed lightgray\",\n        padding: \"0.5rem 1rem\",\n        marginBottom: \".5rem\",\n        backgroundColor: \"white\",\n        cursor: \"move\",\n        opacity,\n      }}\n    >\n      <div\n        style={{ textAlign: \"right\", display: \"flex\", alignItems: \"center\" }}\n      >\n        <div style={{ flexGrow: 1 }} />\n        <div style={{ marginRight: \"1rem\" }}>\n          <StatusToggle\n            parentId={parentId}\n            id={data.permanent_id}\n            name={\"correct\"}\n            value={data.correct}\n            onChange={onChange}\n            options={{\n              display: [\"CORRECT\", \"INCORRECT\"],\n              color: [\"darkgreen\", \"red\"],\n            }}\n          />\n        </div>\n        <div>\n          <input\n            value=\"Delete\"\n            type=\"button\"\n            onClick={() =>\n              onDelete({\n                action: \"delete\",\n                item: \"answer\",\n                parentId,\n                id: data.permanent_id,\n              })\n            }\n          />\n        </div>\n      </div>\n      <div>\n        <MDEditor\n          id={data.permanent_id}\n          parentId={parentId}\n          name={\"text_md\"}\n          value={data.text_md ? data.text_md : \"\"}\n          onChange={onChange}\n        />\n      </div>\n      <div>\n        <MDEditor\n          id={data.permanent_id}\n          parentId={parentId}\n          name={\"hint_md\"}\n          value={data.hint_md ? data.hint_md : \"\"}\n          onChange={onChange}\n        />\n      </div>\n    </div>\n  );\n};\nexport default Answer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Collapsable.module.css';\n\nclass Collapsable extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: this.props.isOpen\n    };\n  }\n\n  toggleState = () => {\n    this.setState({ isOpen: !this.state.isOpen });\n  };\n\n  titleClick = () => {\n    if (this.props.clickableTitle) this.toggleState();\n  };\n\n  render() {\n    return (\n      <div style={{ ...this.props.style }} className={styles.container}>\n        <div onClick={this.titleClick} className={styles.title}>\n          <i\n            onClick={this.toggleState}\n            style={{\n              fontSize: '1rem',\n              marginRight: '0.5rem',\n              marginLeft: '0.5rem',\n              opacity: '0.5',\n              whiteSpace: 'nowrap'\n            }}\n            className={\n              this.state.isOpen\n                ? 'fas fa-chevron-circle-down'\n                : 'fas fa-chevron-circle-right'\n            }\n          />\n          {this.props.title}\n        </div>\n        <div\n          className={this.state.isOpen ? styles.uncollapsed : styles.collapsed}\n        >\n          {this.props.children}\n        </div>\n      </div>\n    );\n  }\n}\nexport default Collapsable;\n\nCollapsable.defaultProps = {\n  isOpen: false,\n  clickableTitle: true\n};\nCollapsable.propTypes = {\n  clickableTitle: PropTypes.bool,\n  style: PropTypes.object,\n  title: PropTypes.node.isRequired,\n  children: PropTypes.node.isRequired,\n  isOpen: PropTypes.bool\n};\n","import React, { useCallback } from \"react\";\nimport { memo } from \"react\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport styles from \"./Home.module.css\";\nimport Answer from \"./Answer.js\";\nimport MDEditor from \"components/MDEditor\";\nimport Collapsable from \"components/Collapsable\";\nimport { DRAGGABLE, QUESTIONTYPE } from \"constants.js\";\nimport Markdown from \"react-universal-markdown/dom\";\nimport StatusToggle from \"components/StatusToggle\";\n\nconst Question = memo(\n  ({\n    data,\n    onDelete,\n    onAdd,\n    onChange,\n    moveQuizItem,\n    findQuizItem,\n    onUpdateData,\n  }) => {\n    const originalIndex = findQuizItem(data.permanentId).index;\n\n    const onChangeQuizType = (e) => {\n      const requestToMakeSingle = !e.value;\n      const numberOfTrueAnswers = data.json[\"answers_attributes\"].filter(\n        (item) => item.correct\n      ).length;\n\n      if (requestToMakeSingle && numberOfTrueAnswers > 1) {\n        window.alert(\n          \"You have requested to convert from a multiple-select to a single-select question, but you have more than one answer marked 'correct'. Fix the answers first.\"\n        );\n      } else {\n        onChange(e);\n      }\n    };\n\n    const findAnswer = useCallback(\n      (permanent_id) => {\n        const answer = data.json.answers_attributes.find(\n          (item) => item.permanent_id === permanent_id\n        );\n        if (!answer) {\n          console.error(`findAnswer: Cannot find ${permanent_id}`);\n        } else {\n          return {\n            answer,\n            index: data.json.answers_attributes.indexOf(answer),\n          };\n        }\n      },\n      [data]\n    );\n\n    const moveAnswer = useCallback(\n      (permanent_id, fromIndex) => {\n        const { index } = findAnswer(permanent_id);\n        const newData = [...data.json.answers_attributes];\n        newData.splice(index, 0, newData.splice(fromIndex, 1)[0]);\n        onUpdateData({ parentId: data.permanentId, data: newData });\n      },\n      [findAnswer, onUpdateData, data]\n    );\n\n    const [{ isDragging }, drag] = useDrag(\n      () => ({\n        type: DRAGGABLE.QUESTION,\n        item: { permanentId: data.permanentId, originalIndex },\n        collect: (monitor) => ({\n          isDragging: monitor.isDragging(),\n        }),\n      }),\n      [data, originalIndex, moveQuizItem]\n    );\n\n    const [, drop] = useDrop(\n      () => ({\n        accept: DRAGGABLE.QUESTION,\n        hover({ permanentId: draggedId }) {\n          if (draggedId !== data.permanentId) {\n            const { index: overIndex } = findQuizItem(data.permanentId);\n            moveQuizItem(draggedId, overIndex);\n          }\n        },\n      }),\n      [findQuizItem, moveQuizItem]\n    );\n\n    let contents = [];\n    Object.keys(data.json).forEach((key) => {\n      if (key === \"answers_attributes\") {\n        const allowMultiple = data.type === QUESTIONTYPE.MULTIPLE;\n        contents.push(<div key={\"title\"}>Answers</div>);\n        contents.push(\n          <div\n            key={`${data.permanentId}_type`}\n            style={{ display: \"flex\", flexDirection: \"row\" }}\n          >\n            <div style={{ flexGrow: 1 }}>\n              <StatusToggle\n                id={data.permanentId}\n                name={\"allowMultiple\"}\n                value={allowMultiple}\n                onChange={onChangeQuizType}\n                options={{\n                  display: [\"ALLOW MULTIPLE: YES\", \"ALLOW MULTIPLE: NO\"],\n                  color: [\"black\", \"black\"],\n                }}\n              />\n            </div>\n            <div>\n              <input\n                value=\"Add\"\n                type=\"button\"\n                onClick={() =>\n                  onAdd({\n                    action: \"add\",\n                    item: \"answer\",\n                    parentId: data.permanentId,\n                  })\n                }\n              />\n            </div>\n          </div>\n        );\n        data.json[\"answers_attributes\"].forEach((answer) => {\n          contents.push(\n            <Answer\n              key={answer.permanent_id}\n              moveAnswer={moveAnswer}\n              findAnswer={findAnswer}\n              parentId={data.permanentId}\n              data={answer}\n              onChange={onChange}\n              onDelete={onDelete}\n              onAdd={onAdd}\n              allowMultiple={allowMultiple}\n            />\n          );\n        });\n      } else {\n        contents.push(\n          <div key={`${key}_${data.permanentId}`}>\n            <MDEditor\n              id={data.permanentId}\n              name={key}\n              onChange={onChange}\n              value={data.json[key] ? data.json[key] : \"\"}\n            />\n          </div>\n        );\n      }\n    });\n\n    const opacity = isDragging ? 0.5 : 1;\n    return (\n      <div\n        ref={(node) => drag(drop(node))}\n        className={styles.questionBlock}\n        style={{\n          opacity,\n        }}\n      >\n        <Collapsable\n          title={\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                width: \"100%\",\n              }}\n            >\n              <div>\n                <Markdown>{data.json.description_md}</Markdown>\n              </div>\n              <div style={{ flexGrow: 1 }} />\n              <div>\n                <input\n                  value=\"Delete\"\n                  type=\"button\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onDelete({\n                      action: \"delete\",\n                      item: \"question\",\n                      id: data.permanentId,\n                    });\n                  }}\n                />\n              </div>\n            </div>\n          }\n        >\n          <div className={styles.answerBlock}>{contents}</div>\n        </Collapsable>\n      </div>\n    );\n  }\n);\n\nexport default Question;\n","import React, { memo, useCallback, useState, useMemo, useEffect } from \"react\";\nimport styles from \"./Home.module.css\";\nimport { NativeTypes } from \"react-dnd-html5-backend\";\nimport DnDTarget from \"components/DnD/Target\";\nimport quizDataHelper from \"./quizDataHelper.js\";\nimport Question from \"./Question.js\";\nimport { useDrop } from \"react-dnd\";\nimport { DRAGGABLE } from \"constants.js\";\nconst { FILE } = NativeTypes;\nconst allowMultiple = false;\nconst allowedTypes = [\"text/markdown\"];\n\nconst Home = memo(() => {\n  const [quizData, setQuizData] = useState();\n\n  const clearData = useCallback((data) => {\n    if (window.confirm(\"Clear current quiz? (you should save first)\")) {\n      setQuizData(null);\n      sessionStorage.removeItem(\"quizData\");\n    }\n  }, []);\n\n  const setData = useCallback((data) => {\n    setQuizData(data);\n    sessionStorage.setItem(\"quizData\", JSON.stringify(data));\n  }, []);\n\n  const onChange = useCallback(\n    (update) => {\n      setData(quizDataHelper.merge(quizData, update));\n    },\n    [quizData, setData]\n  );\n\n  const onAdd = useCallback(\n    (object) => {\n      setData(quizDataHelper.add(quizData, object));\n    },\n    [quizData, setData]\n  );\n\n  const onDelete = useCallback(\n    (object) => {\n      if (window.confirm(\"Do you really want to delete?\"))\n        setData(quizDataHelper.delete(quizData, object));\n    },\n    [quizData, setData]\n  );\n\n  const setDataFromChild = useCallback(\n    (data) => {\n      const newData = { ...quizData };\n      newData.data[\n        quizData.data.indexOf(\n          quizData.data.find(\n            (question) => question.permanentId === data.parentId\n          )\n        )\n      ].json.answers_attributes = data.data;\n      setData(newData);\n    },\n    [quizData, setData]\n  );\n\n  const accepts = useMemo(() => [FILE], []);\n\n  const handleFileDrop = (item, monitor) => {\n    const allow =\n      monitor && (!quizData || window.confirm(\"Replace current quiz?\"));\n    if (allow) {\n      if (!allowMultiple && monitor.getItem().files.length > 1)\n        console.warn(\"ALLOWMULTIPLE IS FALSE: Accepting only first file\");\n      const droppedFiles = allowMultiple\n        ? monitor.getItem().files\n        : [monitor.getItem().files[0]];\n\n      droppedFiles.forEach((file) => {\n        if (allowedTypes.includes(file.type)) {\n          quizDataHelper.loadQuizDataFrom(file, (data) => {\n            setData({ fileName: file.name, data });\n          });\n        } else {\n          console.warn(\n            `REJECT: ${file.type}. Allowed: ${JSON.stringify(allowedTypes)}`\n          );\n          return null;\n        }\n      });\n    }\n  };\n\n  const findQuizItem = useCallback(\n    (permanentId) => {\n      if (!permanentId) console.error(\"findQuizItem: Cannot find undefined\");\n      const quizItem = quizData.data.filter(\n        (data) => `${data.permanentId}` === permanentId\n      )[0];\n      return {\n        quizItem,\n        index: quizData.data.indexOf(quizItem),\n      };\n    },\n    [quizData]\n  );\n\n  const moveQuizItem = useCallback(\n    (permanentId, fromIndex) => {\n      const { index } = findQuizItem(permanentId);\n      const newData = [...quizData.data];\n      newData.splice(index, 0, newData.splice(fromIndex, 1)[0]);\n      setData({ fileName: quizData.fileName, data: newData });\n    },\n    [findQuizItem, quizData, setData]\n  );\n\n  const [, drop] = useDrop(() => ({ accept: DRAGGABLE.QUESTION }));\n\n  useEffect(() => {\n    try {\n      const savedData = JSON.parse(sessionStorage.getItem(\"quizData\"));\n      if (savedData) {\n        console.warn(\"Loading saved data\");\n        setData(savedData);\n      }\n    } catch (e) {}\n  }, [setData]);\n\n  return (\n    <DnDTarget accepts={accepts} onDrop={handleFileDrop}>\n      {(quizData && (\n        <React.Fragment>\n          <div className={styles.navigation}>\n            <div className={styles.title}>{quizData.fileName}</div>\n            <div style={{ flexGrow: 1 }} />\n            <div className={styles.button}>\n              <input\n                onClick={() =>\n                  quizDataHelper.saveQuizDataTo({\n                    fileName: quizData.fileName,\n                    data: quizData.data,\n                    legacyFormat: true,\n                  })\n                }\n                value=\"save: exts format\"\n                type=\"button\"\n              />\n            </div>\n            <div className={styles.button}>\n              <input\n                onClick={() =>\n                  quizDataHelper.saveQuizDataTo({\n                    fileName: quizData.fileName,\n                    data: quizData.data,\n                    legacyFormat: false,\n                  })\n                }\n                value=\"save\"\n                type=\"button\"\n              />\n            </div>\n            <div className={styles.button}>\n              <input onClick={() => clearData()} value=\"clear\" type=\"button\" />\n            </div>\n          </div>\n          <div className={styles.container}>\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\n              <div style={{ flexGrow: 1 }} />\n              <div>\n                <input\n                  value=\"Add\"\n                  type=\"button\"\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    onAdd({\n                      action: \"add\",\n                      item: \"question\",\n                    });\n                  }}\n                />\n              </div>\n            </div>\n            <div className={styles.innerContainer}>\n              <div\n                style={{\n                  marginBottom: \"2rem\",\n                  fontWeight: 900,\n                  fontSize: \"3rem\",\n                }}\n                key={quizData.fileName}\n              >\n                <div className={styles.questionList}>\n                  <div ref={drop} style={{ fontSize: \"1rem\" }}>\n                    {quizData.data.map((data) => (\n                      <Question\n                        onUpdateData={setDataFromChild}\n                        key={data.permanentId\n                          .replace(\"single\", \"\")\n                          .replace(\"multiple\", \"\")}\n                        data={data}\n                        onChange={onChange}\n                        onAdd={onAdd}\n                        onDelete={onDelete}\n                        moveQuizItem={moveQuizItem}\n                        findQuizItem={findQuizItem}\n                      />\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </React.Fragment>\n      )) || (\n        <div className={styles.container}>\n          <div className={styles.innerContainer}>\n            <div\n              style={{\n                textAlign: \"center\",\n                fontSize: \"1rem\",\n                margin: \"auto\",\n                border: \"1px solid black\",\n                background: \"white\",\n                padding: \"4rem\",\n              }}\n            >\n              Drop a quiz .md file here to get started or{\" \"}\n              <div\n                style={{ textDecoration: \"underline\" }}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onAdd({\n                    action: \"add\",\n                    item: \"question\",\n                  });\n                }}\n              >\n                Create New\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </DnDTarget>\n  );\n});\n\nexport default Home;\n","import React from \"react\";\n\nfunction Navigation() {\n  return (\n    <div style={styles.container}>\n      <div style={{ width: \"10rem\", flexGrow: \"1\" }}>Quiz Maker</div>\n      <div style={styles.infoBlock}></div>\n    </div>\n  );\n}\nexport default Navigation;\n\nconst styles = {\n  container: {\n    color: \"#d30a09\",\n    fontFamily: \"Mulish\",\n    textTransform: \"uppercase\",\n    backgroundColor: \"white\",\n    position: \"fixed\",\n    width: \"100%\",\n    textAlign: \"left\",\n    padding: \"1rem\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    fontSize: \"1.5rem\",\n    alignItems: \"center\",\n    borderTop: \".2rem solid #d30a09\",\n    borderBottom: \".01rem solid #dee2e6\",\n  },\n  infoLabel: { fontWeight: 200, marginRight: \".5rem\" },\n  infoBlock: {\n    textAlign: \"right\",\n    flexDirection: \"column\",\n    width: \"12rem\",\n    fontSize: \"0.5rem\",\n    fontWeight: 900,\n  },\n  infoRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginRight: \"2rem\",\n  },\n  error: {\n    color: \"orange\",\n    fontSize: \".9rem\",\n    display: \"flex\",\n    flexDirection: \"row\",\n    marginRight: \"2rem\",\n  },\n};\n","import { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport Home from \"pages/Home\";\nimport { DndProvider } from \"react-dnd-multi-backend\";\nimport HTML5toTouch from \"react-dnd-multi-backend/dist/esm/HTML5toTouch\";\nimport Navigation from \"components/Navigation\";\n// import PrivateRoute from \"components/user/PrivateRoute\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faPen,\n  faPlusSquare,\n  faTrash,\n  faExclamationTriangle,\n  faTimesCircle,\n  faSave,\n} from \"@fortawesome/free-solid-svg-icons\";\nlibrary.add(\n  faPlusSquare,\n  faPen,\n  faTrash,\n  faExclamationTriangle,\n  faTimesCircle,\n  faSave\n);\n\nfunction App() {\n  return (\n    <Router>\n      <DndProvider options={HTML5toTouch}>\n        <div className=\"App\">\n          <Navigation></Navigation>\n          <Switch>\n            <Route path=\"/\" component={Home} />\n          </Switch>\n        </div>\n      </DndProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport ReactDOM from \"react-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}